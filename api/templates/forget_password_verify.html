{% extends 'base.html' %}
{% load static %}

{% block title %}Verify Security Questions - NokshiBox{% endblock %}

{% block content %}
<!-- Full-page background -->
<div class="min-h-screen flex items-center justify-center bg-cover bg-center relative"
     style="background-image: url('{% static 'image/bannerr.jpg' %}');">

    <!-- Overlay -->
    <div class="absolute inset-0 bg-black/30 backdrop-blur-sm"></div>

    <!-- Verification Card -->
    <div class="relative z-10 w-full max-w-md p-10 bg-[#FFF8E7]/85 rounded-xl shadow-xl border-2 border-[#8B3E2F] transform -translate-y-4 transition duration-500 hover:scale-105 hover:shadow-2xl">

        <!-- Close Button -->
        <a href="{% url 'login' %}" class="absolute top-4 right-4 text-gray-700 hover:text-gray-900 text-2xl font-bold">&times;</a>

        <!-- Title -->
        <h3 class="text-3xl font-bold mb-6 text-center text-gray-800">Verify Security Questions üîê</h3>

        <form method="post" class="space-y-4">
            {% csrf_token %}

            <!-- Security Question 1 -->
            <p class="font-semibold text-gray-700">{{ user.security_question_1 }}</p>
            <input type="text" name="answer1"
                   class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#8B3E2F]"
                   placeholder="Your answer..." required>

            <!-- Security Question 2 -->
            <p class="font-semibold text-gray-700">{{ user.security_question_2 }}</p>
            <input type="text" name="answer2"
                   class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#8B3E2F]"
                   placeholder="Your answer..." required>

            <!-- New Password -->
            <p class="font-semibold text-gray-700 mt-3">New Password:</p>
            <input type="password" name="new_password"
                   class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#8B3E2F]"
                   placeholder="Enter new password" required>

            <!-- Confirm Password -->
            <p class="font-semibold text-gray-700">Confirm Password:</p>
            <input type="password" name="confirm_password"
                   class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-[#8B3E2F]"
                   placeholder="Re-enter new password" required>

            <!-- Submit Button -->
            <button type="submit"
                    class="w-full bg-[#8B3E2F] text-white px-4 py-2 rounded-lg hover:bg-[#73342a] transition duration-300 font-semibold">
                Reset Password
            </button>
        </form>

        <!-- Messages -->
        {% for message in messages %}
        <div class="mt-4 bg-[#fff3cd] text-[#856404] border border-[#ffeeba] p-3 rounded-md text-center">
            {{ message }}
        </div>
        {% endfor %}

        <!-- Back to Login -->
        <p class="mt-5 text-center text-sm text-[#4B2E2A]">
            Back to
            <a href="{% url 'login' %}" class="hover:underline font-medium">Login</a>
        </p>
    </div>
</div>
{% endblock %}
