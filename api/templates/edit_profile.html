{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Profile - NokshiBox</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Floating animation for soft shapes */
    .floating {
      position: absolute;
      border-radius: 50%;
      opacity: 0.15;
      animation: float 25s linear infinite;
    }
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-40px) rotate(180deg); }
      100% { transform: translateY(0) rotate(360deg); }
    }
    /* Hover lift effect */
    .hover-up:hover {
      transform: translateY(-5px);
      transition: transform 0.3s ease;
    }
  </style>
</head>
<body class="relative min-h-screen bg-cover bg-center bg-fixed text-[#3b2f2f]"
      style="background-image: url('{% static 'image/ed.png' %}');">

<!-- Navbar -->
<nav class="bg-[#f5f0e6]/95 backdrop-blur-md shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <a href="#" class="text-5xl hover:scale-105 transition-transform duration-300"
       style="font-family: 'Great Vibes', cursive; color: #5a3e2b; -webkit-text-stroke: 0.6px #5a3e2b;">
      Nokshi<span style="color: #a9745b;">Box</span>
    </a>

    <ul class="flex space-x-6">
      <li><a href="/" class="text-black hover:text-[#a9745b] font-medium transition duration-300">Home</a></li>
      <li><a href="#pass" class="text-black hover:text-[#a9745b] font-medium transition duration-300">Pass Recovery</a></li>
      <li><a href="{% url 'logout' %}" class="text-black hover:text-[#a9745b] font-medium transition duration-300">Logout</a></li>
    </ul>
  </div>
</nav>

<!-- Floating background shapes -->
<div class="floating w-40 h-40 bg-[#d9b08c] top-10 left-20"></div>
<div class="floating w-28 h-28 bg-[#c49a6c] bottom-16 right-32"></div>
<div class="floating w-20 h-20 bg-[#b5835a] top-1/2 left-1/3"></div>

<!-- Main Content Container -->
<div class="relative max-w-2xl mx-auto mr-32 px-6 py-16 z-10 space-y-10">

  <!-- Profile Info Card -->
  <div class="bg-[#f5f0e6]/70 border border-[#c49a6c]/90 shadow-2xl rounded-2xl p-10 hover-up transition duration-500">
    <h2 class="text-3xl font-extrabold text-center text-[#3b2f2f] mb-6 border-b-4 border-[#b5835a] pb-2">
      Edit Profile
    </h2>

    <form method="post" enctype="multipart/form-data" class="space-y-5">
      {% csrf_token %}

      <!-- Full Name -->
      <div>
        <label for="id_full_name" class="block text-gray-700 font-medium mb-2">Full Name</label>
        {{ form.full_name|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>

      <!-- Mobile Number -->
      <div>
        <label for="id_mobile_no" class="block text-gray-700 font-medium mb-2">Mobile Number</label>
        {{ form.mobile_no|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>

      <!-- Profile Photo -->
      <div>
        <label for="id_photo" class="block text-gray-700 font-medium mb-2">Profile Photo</label>
        {{ form.photo|add_class:"w-full" }}
      </div>

      <!-- Facebook (for sellers) -->
      {% if request.user.role == "seller" %}
      <div>
        <label for="id_facebook_link" class="block text-gray-700 font-medium mb-2">Facebook Link</label>
        {{ form.facebook_link|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>
      {% endif %}

      <!-- Buttons -->
      <div class="flex flex-wrap justify-center gap-4 mt-6">
        <button type="submit"
                class="bg-gradient-to-r from-[#c49a6c] to-[#b5835a] text-[#3b2f2f] font-semibold px-6 py-2 rounded-lg hover:from-[#b5835a] hover:to-[#a9745b] transition duration-300 transform hover:scale-105 shadow-md">
          ðŸ’¾ Save Changes
        </button>
        <a href="{% url 'seller_home' %}"
           class="bg-[#fff2d1] text-[#3b2f2f] font-semibold px-6 py-2 rounded-lg border border-[#b5835a]/60 hover:bg-[#f5e8ca] transition duration-300 shadow-md">
          âœ– Cancel
        </a>
      </div>

    </form>
  </div>

  <!-- Password Recovery & Change Password Card -->
  <div  id = "pass" class="bg-[#f5f0e6]/70 border border-[#c49a6c]/90 shadow-2xl rounded-2xl p-10 hover-up transition duration-500">
    <h2 class="text-3xl font-extrabold text-center text-[#3b2f2f] mb-6 border-b-4 border-[#b5835a] pb-2">
      Password Recovery & Change
    </h2>

    <form method="post" class="space-y-5">
      {% csrf_token %}

      <!-- Password Recovery Questions -->
      <h4 class="text-xl font-semibold text-gray-800 mb-4">Password Recovery Questions</h4>

      <div>
        <label for="id_security_question_1" class="block text-gray-700 font-medium mb-2">Security Question 1</label>
        {{ form.security_question_1|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>
      <div>
        <label for="id_security_answer_1" class="block text-gray-700 font-medium mb-2">Answer</label>
        {{ form.security_answer_1|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>

      <div>
        <label for="id_security_question_2" class="block text-gray-700 font-medium mb-2">Security Question 2</label>
        {{ form.security_question_2|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>
      <div>
        <label for="id_security_answer_2" class="block text-gray-700 font-medium mb-2">Answer</label>
        {{ form.security_answer_2|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>

      <hr class="border-gray-300 my-4">

      <!-- Change Password -->
      <h4 class="text-xl font-semibold text-gray-800 mb-4">Change Password</h4>

      <div>
        <label for="id_current_password" class="block text-gray-700 font-medium mb-2">Current Password</label>
        {{ form.current_password|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>
      <div>
        <label for="id_new_password" class="block text-gray-700 font-medium mb-2">New Password</label>
        {{ form.new_password|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>
      <div>
        <label for="id_confirm_password" class="block text-gray-700 font-medium mb-2">Confirm New Password</label>
        {{ form.confirm_password|add_class:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-[#d9b08c]" }}
      </div>

      <!-- Buttons -->
      <div class="flex flex-wrap justify-center gap-4 mt-6">
        <button type="submit"
                class="bg-gradient-to-r from-[#c49a6c] to-[#b5835a] text-[#3b2f2f] font-semibold px-6 py-2 rounded-lg hover:from-[#b5835a] hover:to-[#a9745b] transition duration-300 transform hover:scale-105 shadow-md">
          ðŸ’¾ Save Changes
        </button>
        <a href="{% url 'seller_home' %}"
           class="bg-[#fff2d1] text-[#3b2f2f] font-semibold px-6 py-2 rounded-lg border border-[#b5835a]/60 hover:bg-[#f5e8ca] transition duration-300 shadow-md">
          âœ– Cancel
        </a>
      </div>

    </form>
  </div>

</div>

<!-- Footer -->
<footer class="bg-[#f5f0e6]/95 text-center text-[#3b2f2f] border-t border-[#b5835a]/50 py-4 mt-10 shadow-inner">
  <p>Â© 2025 <span class="font-semibold text-[#a9745b]">NokshiBox</span> â€” Empowering Local Artisans ðŸŒ¸</p>
</footer>

<!-- Scroll to Top Button -->
<button id="scrollTopBtn"
        class="fixed bottom-8 right-8 bg-[#c49a6c] text-white p-3 rounded-full shadow-lg hidden hover:bg-[#b5835a] transition duration-300 z-50">
  â†‘
</button>

<script>
  // Get the button
  const scrollTopBtn = document.getElementById("scrollTopBtn");

  // Show button when user scrolls down 200px
  window.onscroll = function() {
    if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
      scrollTopBtn.style.display = "block";
    } else {
      scrollTopBtn.style.display = "none";
    }
  };

  // Scroll to top smoothly when clicked
  scrollTopBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
</script>

</body>
</html>
